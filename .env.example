APP_ENV=dev
APP_NAME=anime-platform-backend
API_V1_PREFIX=/v1
HOST=0.0.0.0
PORT=8000

LOG_LEVEL=INFO
LOG_JSON=true

DEFAULT_LOCALE=ru
LOCALE_HEADER=X-Locale

MAX_UPLOAD_BYTES=5000000
UPLOAD_READ_CHUNK_SIZE=65536
ALLOWED_IMAGE_MIME_TYPES=image/jpeg,image/png,image/webp
MAX_IMAGE_PIXELS=20000000
MAX_IMAGE_WIDTH=8000
MAX_IMAGE_HEIGHT=8000

POSTGRES_DSN=postgresql+asyncpg://anime:anime@localhost:5432/anime
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT_SECONDS=30
DB_COMMAND_TIMEOUT_SECONDS=30
REPOSITORY_TIMEOUT_SECONDS=2.5

REDIS_DSN=redis://localhost:6379/0
REDIS_CONNECT_TIMEOUT_SECONDS=2.0
REDIS_OPERATION_TIMEOUT_SECONDS=1.0
REDIS_CACHE_TTL_SECONDS=86400
REDIS_IMAGE_DEDUPE_TTL_SECONDS=600

RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMIT_KEY_PREFIX=rl:
TRUSTED_PROXY_HEADERS=false

OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=qwen2.5:32b
OLLAMA_TIMEOUT_SECONDS=20.0
OLLAMA_TEMPERATURE=0.2

CLIP_MODEL_PATH=/models/clip
CLIP_DEVICE=cuda
CLIP_USE_FP16=true
CLIP_CONCURRENCY=2
CLIP_TOP_K=5
CLIP_CONFIDENCE_THRESHOLD=0.82
CLIP_INFERENCE_TIMEOUT_SECONDS=7.0
CLIP_INDEX_PATH=/tmp/clip_index.npz
CLIP_INDEX_BUILD_ON_STARTUP=true
CLIP_TEXT_BATCH_SIZE=256
